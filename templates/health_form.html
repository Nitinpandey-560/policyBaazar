{% extends 'welcomeclient.html' %}

{% block 'nav' %}
	<div class="container-fluid">
		<div class="container">
			<div class="row">
				<div class="col-lg-4 col-md-12 py-3 logo">
					<img src="/static/images/cptl.png" alt="" id="cptl"> </br>
					<label class="l1 logo_text_decoration lg">Capital</label>
					<label class="l2 logo_text_decoration lg">Insurance</label>
					
				</div>
				
			</div>
		</div>
	</div>

		<nav class="col-md-12 nav pt-1 mt-2 bg-light menu  " style="width: 100%;" data-spy="affix" data-offset-top="197">
			<a href="/client/home/" class="nav-link">Home</a>
			<a href="#services" class="nav-link">Services</a>
			<a href="#about" class="nav-link">About Us</a>
			<a href="#" class="nav-link" data-toggle="modal" data-target="#contactmodal">Contact Us</a>
	
			<!--<a href="/login/"  class="nav-link">Login</a>-->
			<!--<a href="/signup/"  class="nav-link">New user ?</a>-->
			<div class="dropdown" id="drop">
				<button type="button" class="btn btn-light dropdown-toggle" data-toggle="dropdown">
				  {{request.user}}
				</button>
				<div class="dropdown-menu">
				  <a class="dropdown-item" href="#">My Account</a>
				  <a class="dropdown-item" href="#">History</a>
				  <a class="dropdown-item" href="/logout/">Logout</a>
				</div>
			  </div>
		</nav>

		{% endblock  %}

    {% block 'carousel' %}
    {% endblock %}

    {% block 'insurance' %}
    <div class="container mt-5 mb-5">
    <h1>Medical Insurance Registration Form</h1>
    <form method="POST" onsubmit="return validateData()">
      {% csrf_token %}
        <div class="form-group">
          <label for="exampleInputaddr1">Enter Name </label>
          <input type="text" class="form-control" id="name" aria-describedby="emailHelp" placeholder="Enter Name" name="name">
          <small id="nameError" class="form-text text-muted">We'll never share your details with anyone else.</small>
        </div>
        <div class="form-group">
            <label for="exampleInputaddr2">Enter Date of Birth(dd/mm/yyyy)</label>
            <input type="text" class="form-control" id="dob" aria-describedby="emailHelp" placeholder="Enter Date of Birth" name="dob">
            <small id="doberror" class="form-text text-muted">We'll never share your details with anyone else.</small>
          </div>
          <div class="form-group">
            <label for="exampleInputaddr1">Your Current doctor</label>
            <input type="text" class="form-control" id="cd" aria-describedby="emailHelp" placeholder="Enter Your Current doctor" name="cd">
            <small id="cderror" class="form-text text-muted">We'll never share your details with anyone else.</small>
          </div>
          <div class="form-group">
            <label for="exampleInputaddr1">Date of Last doctor visit(dd/mm/yyyy)</label>
            <input type="text" class="form-control" id="ld" aria-describedby="emailHelp" placeholder="Enter Date of Last doctor visit" name="ld">
            <small id="lderror" class="form-text text-muted">We'll never share your details with anyone else.</small>
          </div>
          <div class="form-group">
            <label for="exampleInputaddr1">Occupation</label>
            <input type="text" class="form-control" id="occupation" aria-describedby="emailHelp" placeholder="Enter Occupation" name="occupation">
            <small id="occupationerror" class="form-text text-muted">We'll never share your details with anyone else.</small>
          </div>
        
        <a href="/client/order/"><button type="submit" class="btn btn-primary">Submit</button></a>
      </form>
    </div>
    <script>
      function validateData(){
        var name = document.getElementById("name").value;
        var dob = document.getElementById("dob").value;
        var cd = document.getElementById("cd").value;
        var ld = document.getElementById("ld").value;
        var occupation = document.getElementById("occupation").value;
        var regex = "^(((0[1-9]|[12][0-9]|30)[-/]?(0[13-9]|1[012])|31[-/]?(0[13578]|1[02])|(0[1-9]|1[0-9]|2[0-8])[-/]?02)[-/]?[0-9]{4}|29[-/]?02[-/]?([0-9]{2}(([2468][048]|[02468][48])|[13579][26])|([13579][26]|[02468][048]|0[0-9]|1[0-6])00))$"
        if(name.length==0){
          document.getElementById("nameError").innerHTML = "please fill this field";
          return false;
        }

        else if(!isNaN(name)){
          document.getElementById("nameError").innerHTML = "only text are allowed";
          return false;
        }

        if(dob.length==0){
          document.getElementById("doberror").innerHTML = "please fill this field";
          return false;
        }

        else if(dob !=regex){
          document.getElementById("addr2error").innerHTML = "only correct date are allowed";
          return false;
        }

        if(cd.length==0){
          document.getElementById("cderror").innerHTML = "please fill this field";
          return false;
        }

        else if(!isNaN(cd)){
          document.getElementById("cderror").innerHTML = "only text are allowed";
          return false;
        }

        if(ld.length==0){
          document.getElementById("lderror").innerHTML = "please fill this field";
          return false;
        }

        else if(ld !=regex){
          document.getElementById("lderror").innerHTML = "only correct date are allowed";
          return false;
        }

        if(occupation.length==0){
          document.getElementById("occupationerror").innerHTML = "please fill this field";
          return false;
        }

        else if(!isNaN(occupation)){
          document.getElementById("areaerror").innerHTML = "only text are allowed";
          return false;
        }

      }
    </script>
    
    {% endblock %}